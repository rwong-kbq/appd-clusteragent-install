apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clusteragents.appdynamics.com
spec:
  group: appdynamics.com
  names:
    kind: Clusteragent
    listKind: ClusteragentList
    plural: clusteragents
    singular: clusteragent
  scope: Namespaced
  preserveUnknownFields: false
  versions:
    - name: v1alpha1
      served: true
      storage: true
      subresources:
        status: {}
      schema:
        openAPIV3Schema:
          description: Clusteragent is the Schema for the clusteragents API
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                    of an object. Servers should convert recognized schemas to the latest
                    internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource this
                    object represents. Servers may infer this from the endpoint the client
                    submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: ClusteragentSpec defines the desired state of Clusteragent
              properties:
                accessSecret:
                  type: string
                account:
                  type: string
                agentEnvVar:
                  type: string
                agentLabel:
                  type: string
                agentLogOverride:
                  type: string
                agentMountName:
                  type: string
                agentMountPath:
                  type: string
                agentOpts:
                  type: string
                agentSSLCert:
                  type: string
                agentSSLPassword:
                  type: string
                agentSSLStoreName:
                  type: string
                agentServerPort:
                  format: int32
                  type: integer
                agentUserOverride:
                  type: string
                analyticsAgentContainerName:
                  type: string
                analyticsAgentImage:
                  type: string
                analyticsAgentUrl:
                  type: string
                appDAnalyticsLabel:
                  type: string
                appDAppLabel:
                  type: string
                appDDotNetAttachImage:
                  type: string
                appDInitContainerName:
                  type: string
                appDJavaAttachImage:
                  type: string
                appDTierLabel:
                  type: string
                appLogMountName:
                  type: string
                appLogMountPath:
                  type: string
                appName:
                  type: string
                appNameLabel:
                  type: string
                appNameLiteral:
                  type: string
                appNameStrategy:
                  type: string
                args:
                  items:
                    type: string
                  type: array
                biqRequestCpu:
                  type: string
                biqRequestMem:
                  type: string
                biqService:
                  type: string
                clusterMetricsSyncInterval:
                  type: integer
                containerBatchSize:
                  type: integer
                containerRegistrationInterval:
                  type: integer
                containerSchemaName:
                  type: string
                controllerUrl:
                  description: account info
                  type: string
                customSSLSecret:
                  type: string
                daemonSchemaName:
                  type: string
                dashboardDelayMin:
                  type: integer
                dashboardSuffix:
                  description: dashboard
                  type: string
                dashboardTemplatePath:
                  type: string
                defaultAnalyticsHost:
                  type: string
                defaultAnalyticsPort:
                  type: integer
                defaultAnalyticsSslEnabled:
                  type: boolean
                defaultAppName:
                  type: string
                defaultContainerMatchString:
                  type: string
                defaultCustomConfig:
                  type: string
                defaultEnv:
                  type: string
                defaultInstrumentMatchString:
                  type: string
                defaultInstrumentationLabelMatch:
                  items:
                    additionalProperties:
                      type: string
                    type: object
                  type: array
                defaultInstrumentationTech:
                  type: string
                deploySchemaName:
                  type: string
                env:
                  items:
                    description: EnvVar represents an environment variable present in
                      a Container.
                    properties:
                      name:
                        description: Name of the environment variable. Must be a C_IDENTIFIER.
                        type: string
                      value:
                        description: 'Variable references $(VAR_NAME) are expanded using
                              the previous defined environment variables in the container
                              and any service environment variables. If a variable cannot
                              be resolved, the reference in the input string will be unchanged.
                              The $(VAR_NAME) syntax can be escaped with a double $$, ie:
                              $$(VAR_NAME). Escaped references will never be expanded, regardless
                              of whether the variable exists or not. Defaults to "".'
                        type: string
                      valueFrom:
                        description: Source for the environment variable's value. Cannot
                          be used if value is not empty.
                        properties:
                          configMapKeyRef:
                            description: Selects a key of a ConfigMap.
                            properties:
                              key:
                                description: The key to select.
                                type: string
                              name:
                                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      TODO: Add other useful fields. apiVersion, kind, uid?'
                                type: string
                              optional:
                                description: Specify whether the ConfigMap or it's key
                                  must be defined
                                type: boolean
                            required:
                              - key
                            type: object
                          fieldRef:
                            description: 'Selects a field of the pod: supports metadata.name,
                                  metadata.namespace, metadata.labels, metadata.annotations,
                                  spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP.'
                            properties:
                              apiVersion:
                                description: Version of the schema the FieldPath is written
                                  in terms of, defaults to "v1".
                                type: string
                              fieldPath:
                                description: Path of the field to select in the specified
                                  API version.
                                type: string
                            required:
                              - fieldPath
                            type: object
                          resourceFieldRef:
                            description: 'Selects a resource of the container: only resources
                                  limits and requests (limits.cpu, limits.memory, limits.ephemeral-storage,
                                  requests.cpu, requests.memory and requests.ephemeral-storage)
                                  are currently supported.'
                            properties:
                              containerName:
                                description: 'Container name: required for volumes, optional
                                      for env vars'
                                type: string
                              divisor:
                                description: Specifies the output format of the exposed
                                  resources, defaults to "1"
                                type: string
                              resource:
                                description: 'Required: resource to select'
                                type: string
                            required:
                              - resource
                            type: object
                          secretKeyRef:
                            description: Selects a key of a secret in the pod's namespace
                            properties:
                              key:
                                description: The key of the secret to select from.  Must
                                  be a valid secret key.
                                type: string
                              name:
                                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      TODO: Add other useful fields. apiVersion, kind, uid?'
                                type: string
                              optional:
                                description: Specify whether the Secret or it's key must
                                  be defined
                                type: boolean
                            required:
                              - key
                            type: object
                        type: object
                    required:
                      - name
                    type: object
                  type: array
                epSchemaName:
                  type: string
                eventAPILimit:
                  description: limits
                  type: integer
                eventSchemaName:
                  type: string
                eventServiceUrl:
                  type: string
                eventUploadInterval:
                  type: integer
                fsGroup:
                  format: int64
                  type: integer
                globalAccount:
                  type: string
                httpClientTimeout:
                  type: integer
                image:
                  type: string
                imageInfo:
                  additionalProperties:
                    properties:
                      agentMountPath:
                        type: string
                      image:
                        type: string
                      imagePullPolicy:
                        type: string
                    required:
                      - agentMountPath
                      - image
                    type: object
                  type: object
                imagePullSecret:
                  type: string
                initContainerDir:
                  type: string
                initRequestCpu:
                  type: string
                initRequestMem:
                  type: string
                instrumentContainer:
                  type: string
                instrumentMatchString:
                  items:
                    type: string
                  type: array
                instrumentRule:
                  items:
                    properties:
                      agentEnvVar:
                        type: string
                      appDAppLabel:
                        type: string
                      appDTierLabel:
                        type: string
                      appNameLiteral:
                        type: string
                      biQ:
                        type: string
                      containerName:
                        type: string
                      matchString:
                        items:
                          type: string
                        type: array
                      method:
                        type: string
                      namespaces:
                        items:
                          type: string
                        type: array
                      tech:
                        type: string
                      uniqueHostID:
                        type: string
                      version:
                        type: string
                    type: object
                  type: array
                instrumentationMethod:
                  description: instrumentation
                  type: string
                instrumentationRules:
                  items:
                    properties:
                      customAgentConfigSource:
                        items:
                          properties:
                            configMapName:
                              type: string
                            subDir:
                              type: string
                          type: object
                        type: array
                      analyticsHost:
                        type: string
                      analyticsPort:
                        type: integer
                      analyticsSslEnabled:
                        type: boolean
                      appName:
                        type: string
                      appNameLabel:
                        type: string
                      containerMatchString:
                        type: string
                      customAgentConfig:
                        type: string
                      env:
                        type: string
                      imageInfo:
                        properties:
                          agentMountPath:
                            type: string
                          image:
                            type: string
                          imagePullPolicy:
                            type: string
                        required:
                          - agentMountPath
                          - image
                        type: object
                      instrumentContainer:
                        type: string
                      labelMatch:
                        items:
                          additionalProperties:
                            type: string
                          type: object
                        type: array
                      language:
                        type: string
                      matchString:
                        type: string
                      namespaceRegex:
                        type: string
                      netvizInfo:
                        properties:
                          bciEnabled:
                            type: boolean
                          port:
                            type: integer
                        type: object
                      runAsGroup:
                        format: int64
                        type: integer
                      runAsUser:
                        format: int64
                        type: integer
                      tierName:
                        type: string
                    type: object
                  type: array
                jDKMountName:
                  type: string
                jDKMountPath:
                  type: string
                jobSchemaName:
                  type: string
                labels:
                  type: object
                  additionalProperties:
                    type: string
                logFileBackups:
                  type: integer
                logFileSizeMb:
                  type: integer
                logLevel:
                  type: string
                logLines:
                  type: integer
                logSchemaName:
                  type: string
                maxPodsToRegisterCount:
                  type: integer
                maxPodLogsTailLinesCount:
                  type: integer
                metadataSyncInterval:
                  type: integer
                metricUploadRetryCount:
                  type: integer
                metricUploadRetryIntervalMilliSeconds:
                  type: integer
                metricsSyncInterval:
                  type: integer
                netVizPort:
                  type: integer
                netvizInfo:
                  properties:
                    bciEnabled:
                      type: boolean
                    port:
                      type: integer
                  type: object
                nodeNamePrefix:
                  type: string
                nodeSchemaName:
                  type: string
                nodeSelector:
                  type: object
                  additionalProperties:
                    type: string
                nodesToMonitor:
                  items:
                    type: string
                  type: array
                nodesToMonitorExclude:
                  items:
                    type: string
                  type: array
                nsSchemaName:
                  type: string
                nsToInstrument:
                  items:
                    type: string
                  type: array
                nsToExcludeRegex:
                  type: string
                nsToInstrumentExclude:
                  items:
                    type: string
                  type: array
                nsToInstrumentRegex:
                  type: string
                nsToMonitor:
                  items:
                    type: string
                  type: array
                nsToMonitorExclude:
                  items:
                    type: string
                  type: array
                nsToMonitorRegex:
                  type: string
                numberOfTaskWorkers:
                  type: integer
                overconsumptionThreshold:
                  type: integer
                podBatchSize:
                  type: integer
                podEventNumber:
                  type: integer
                podFilter:
                  properties:
                    blocklistedLabels:
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    blocklistedNames:
                      items:
                        type: string
                      type: array
                    allowlistedLabels:
                      items:
                        additionalProperties:
                          type: string
                        type: object
                      type: array
                    allowlistedNames:
                      items:
                        type: string
                      type: array
                  type: object
                podSchemaName:
                  description: snapshot schemas
                  type: string
                proxyPass:
                  type: string
                proxyUrl:
                  type: string
                proxyUser:
                  type: string
                rSSchemaName:
                  type: string
                resources:
                  description: ResourceRequirements describes the compute resource requirements.
                  properties:
                    limits:
                      additionalProperties:
                        type: string
                      description: 'Limits describes the maximum amount of compute resources
                            allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                    requests:
                      additionalProperties:
                        type: string
                      description: 'Requests describes the minimum amount of compute resources
                            required. If Requests is omitted for a container, it defaults
                            to Limits if that is explicitly specified, otherwise to an implementation-defined
                            value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                  type: object
                resourcesToInstrument:
                  items:
                    type: string
                  type: array
                rqSchemaName:
                  type: string
                runAsGroup:
                  format: int64
                  type: integer
                runAsUser:
                  format: int64
                  type: integer
                serviceAccountName:
                  type: string
                snapshotSyncInterval:
                  type: integer
                stdoutLogging:
                  type: string
                systemSSLCert:
                  type: string
                tolerations:
                  type: array
                  items:
                    properties:
                      key:
                        type: string
                      operator:
                        type: string
                      value:
                        type: string
                      effect:
                        type: string
                      tolerationSeconds:
                        type: integer
                    type: object
                uniqueHostID:
                  type: string
              required:
                - controllerUrl
              type: object
            status:
              description: ClusteragentStatus defines the observed state of Clusteragent
              properties:
                lastUpdateTime:
                  description: 'Important: Run "operator-sdk generate k8s" to regenerate
                        code after modifying this file'
                  format: date-time
                  type: string
                state:
                  properties:
                    analyticsAgentImage:
                      type: string
                    appDDotNetAttachImage:
                      type: string
                    appDJavaAttachImage:
                      type: string
                    biqService:
                      type: string
                    defaultInstrumentationTech:
                      type: string
                    instrumentMatchString:
                      items:
                        type: string
                      type: array
                    instrumentRule:
                      items:
                        properties:
                          agentEnvVar:
                            type: string
                          appDAppLabel:
                            type: string
                          appDTierLabel:
                            type: string
                          appNameLiteral:
                            type: string
                          biQ:
                            type: string
                          containerName:
                            type: string
                          matchString:
                            items:
                              type: string
                            type: array
                          method:
                            type: string
                          namespaces:
                            items:
                              type: string
                            type: array
                          tech:
                            type: string
                          uniqueHostID:
                            type: string
                          version:
                            type: string
                        type: object
                      type: array
                    instrumentationMethod:
                      type: string
                    logLevel:
                      type: string
                    logLines:
                      type: integer
                    metricsSyncInterval:
                      type: integer
                    nodesToMonitor:
                      items:
                        type: string
                      type: array
                    nodesToMonitorExclude:
                      items:
                        type: string
                      type: array
                    nsToInstrument:
                      items:
                        type: string
                      type: array
                    nsToInstrumentExclude:
                      items:
                        type: string
                      type: array
                    nsToMonitor:
                      items:
                        type: string
                      type: array
                    nsToMonitorExclude:
                      items:
                        type: string
                      type: array
                    snapshotSyncInterval:
                      type: integer
                    version:
                      type: string
                  required:
                    - logLevel
                    - logLines
                    - metricsSyncInterval
                    - snapshotSyncInterval
                  type: object
              required:
                - lastUpdateTime
                - state
              type: object
          type: object
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clustercollectors.appdynamics.com
spec:
  group: appdynamics.com
  names:
    kind: Clustercollector
    listKind: ClustercollectorList
    plural: clustercollectors
    singular: clustercollector
  scope: Namespaced
  versions:
    - name: v1alpha1
      served: true
      storage: true
      subresources:
        status: {}
      schema:
        openAPIV3Schema:
          description: Clustercollector is the Schema for the clustercollectors API
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                    of an object. Servers should convert recognized schemas to the latest
                    internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource this
                    object represents. Servers may infer this from the endpoint the client
                    submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: ClustercollectorSpec defines the desired state of Clustercollector
              properties:
                image:
                  type: string
                serviceAccountName:
                  type: string
                resources:
                  description: ResourceRequirements describes the compute resource requirements.
                  properties:
                    limits:
                      additionalProperties:
                        type: string
                      description: 'Limits describes the maximum amount of compute resources
                            allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                    requests:
                      additionalProperties:
                        type: string
                      description: 'Requests describes the minimum amount of compute resources
                            required. If Requests is omitted for a container, it defaults
                            to Limits if that is explicitly specified, otherwise to an implementation-defined
                            value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                  type: object
                controllerUrl:
                  type: string
                account:
                  type: string
                clusterName:
                  type: string
                accessSecret:
                  type: string
                nsToMonitorRegex:
                  type: string
                nsToExcludeRegex:
                  type: string
                logLevel:
                  type: string
                clusterMonEnabled:
                  type: boolean
                kubeExporterAddress:
                  type: string
                kubeExporterPort:
                  format: int32
                  type: integer
                systemConfig:
                  properties:
                    collectorLibSocketUrl:
                      type: string
                    collectorLibPort:
                      type: string
                    httpClientTimeOut:
                      format: int32
                      type: integer
                    httpBasicAuthEnabled:
                      type: boolean
                    configChangeScanPeriod:
                      format: int32
                      type: integer
                    configStaleGracePeriod:
                      format: int32
                      type: integer
                    debugEnabled:
                      type: boolean
                    debugPort:
                      type: string
                    logLevel:
                      type: string
                    clientLibSendUrl:
                      type: string
                    clientLibRecvUrl:
                      type: string
                  type: object
                hostCollectorConfig:
                  properties:
                    name:
                      type: string
                    image:
                      type: string
                    serviceAccountName:
                      type: string
                    resources:
                      description: ResourceRequirements describes the compute resource requirements.
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: 'Limits describes the maximum amount of compute resources
                                allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: 'Requests describes the minimum amount of compute resources
                                required. If Requests is omitted for a container, it defaults
                                to Limits if that is explicitly specified, otherwise to an implementation-defined
                                value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                          type: object
                      type: object
                    containerMetricExporterAddr:
                      type: string
                    serverMetricExporterAddr:
                      type: string
                    logLevel:
                      type: string
                    containerCollectorPath:
                      type: string
                    serverCollectorPath:
                      type: string
                    containerCollectorDependency:
                      type: string
                    serverCollectorDependency:
                      type: string
                    containerMonEnabled:
                      type: string
                    serverMonEnabled:
                      type: string
                  type: object
              required:
                - controllerUrl
              type: object
            status:
              description: ClustercollectorStatus defines the observed state of Clustercollector
              properties:
                lastUpdateTime:
                  description: 'Important: Run "operator-sdk generate k8s" to regenerate
                                    code after modifying this file'
                  format: date-time
                  type: string
                state:
                  properties:
                    analyticsAgentImage:
                      type: string
                    appDDotNetAttachImage:
                      type: string
                    appDJavaAttachImage:
                      type: string
                    biqService:
                      type: string
                    defaultInstrumentationTech:
                      type: string
                    instrumentMatchString:
                      items:
                        type: string
                      type: array
                    instrumentRule:
                      items:
                        properties:
                          agentEnvVar:
                            type: string
                          appDAppLabel:
                            type: string
                          appDTierLabel:
                            type: string
                          appNameLiteral:
                            type: string
                          biQ:
                            type: string
                          containerName:
                            type: string
                          matchString:
                            items:
                              type: string
                            type: array
                          method:
                            type: string
                          namespaces:
                            items:
                              type: string
                            type: array
                          tech:
                            type: string
                          uniqueHostID:
                            type: string
                          version:
                            type: string
                        type: object
                      type: array
                    instrumentationMethod:
                      type: string
                    logLevel:
                      type: string
                    logLines:
                      type: integer
                    metricsSyncInterval:
                      type: integer
                    nodesToMonitor:
                      items:
                        type: string
                      type: array
                    nodesToMonitorExclude:
                      items:
                        type: string
                      type: array
                    nsToInstrument:
                      items:
                        type: string
                      type: array
                    nsToInstrumentExclude:
                      items:
                        type: string
                      type: array
                    nsToMonitor:
                      items:
                        type: string
                      type: array
                    nsToMonitorExclude:
                      items:
                        type: string
                      type: array
                    snapshotSyncInterval:
                      type: integer
                    version:
                      type: string
                  required:
                    - logLevel
                    - logLines
                    - metricsSyncInterval
                    - snapshotSyncInterval
                  type: object
              required:
                - lastUpdateTime
                - state
              type: object
          type: object
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: infravizs.appdynamics.com
spec:
  group: appdynamics.com
  names:
    kind: InfraViz
    listKind: InfraVizList
    plural: infravizs
    singular: infraviz
  scope: Namespaced
  versions:
    - name: v1alpha1
      served: true
      storage: true
      subresources:
        status: {}
      schema:
        openAPIV3Schema:
          description: Infraviz is the Schema for the infravizs API
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                    of an object. Servers should convert recognized schemas to the latest
                    internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource this
                    object represents. Servers may infer this from the endpoint the client
                    submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: InfravizSpec defines the desired state of InfraAgent
              properties:
                controllerUrl:
                  type: string
                account:
                  type: string
                image:
                  type: string
                imageWin:
                  type: string
                accessSecret:
                  type: string
                globalAccount:
                  type: string
                eventServiceUrl:
                  type: string
                enableContainerHostId:
                  type: boolean
                enableDockerViz:
                  type: boolean
                enableServerViz:
                  type: boolean
                enableMasters:
                  type: boolean
                uniqueHostId:
                  type: string
                metricsLimit:
                  type: string
                proxyUrl:
                  type: string
                proxyUser:
                  type: string
                logLevel:
                  type: string
                syslogPort:
                  format: int32
                  type: integer
                pks:
                  type: boolean
                netVizPort:
                  format: int32
                  type: integer
                netVizImage:
                  type: string
                netlibEnabled:
                  format: int32
                  type: integer
                biqPort:
                  format: int32
                  type: integer
                stdoutLogging:
                  type: boolean
                agentSSLStoreName:
                  type: string
                agentSSLPassword:
                  type: string
                propertyBag:
                  type: string
                nodeSelector:
                  type: object
                  additionalProperties:
                    type: string
                tolerations:
                  type: array
                  items:
                    properties:
                      key:
                        type: string
                      operator:
                        type: string
                      value:
                        type: string
                      effect:
                        type: string
                      tolerationSeconds:
                        type: integer
                    type: object
                args:
                  items:
                    type: string
                  type: array
                env:
                  items:
                    description: EnvVar represents an environment variable present in
                      a Container.
                    properties:
                      name:
                        description: Name of the environment variable. Must be a C_IDENTIFIER.
                        type: string
                      value:
                        description: 'Variable references $(VAR_NAME) are expanded using
                              the previous defined environment variables in the container
                              and any service environment variables. If a variable cannot
                              be resolved, the reference in the input string will be unchanged.
                              The $(VAR_NAME) syntax can be escaped with a double $$, ie:
                              $$(VAR_NAME). Escaped references will never be expanded, regardless
                              of whether the variable exists or not. Defaults to "".'
                        type: string
                      valueFrom:
                        description: Source for the environment variable's value. Cannot
                          be used if value is not empty.
                        properties:
                          configMapKeyRef:
                            description: Selects a key of a ConfigMap.
                            properties:
                              key:
                                description: The key to select.
                                type: string
                              name:
                                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      TODO: Add other useful fields. apiVersion, kind, uid?'
                                type: string
                              optional:
                                description: Specify whether the ConfigMap or it's key
                                  must be defined
                                type: boolean
                            required:
                              - key
                            type: object
                          fieldRef:
                            description: 'Selects a field of the pod: supports metadata.name,
                                  metadata.namespace, metadata.labels, metadata.annotations,
                                  spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP.'
                            properties:
                              apiVersion:
                                description: Version of the schema the FieldPath is written
                                  in terms of, defaults to "v1".
                                type: string
                              fieldPath:
                                description: Path of the field to select in the specified
                                  API version.
                                type: string
                            required:
                              - fieldPath
                            type: object
                          resourceFieldRef:
                            description: 'Selects a resource of the container: only resources
                                  limits and requests (limits.cpu, limits.memory, limits.ephemeral-storage,
                                  requests.cpu, requests.memory and requests.ephemeral-storage)
                                  are currently supported.'
                            properties:
                              containerName:
                                description: 'Container name: required for volumes, optional
                                      for env vars'
                                type: string
                              divisor:
                                description: Specifies the output format of the exposed
                                  resources, defaults to "1"
                                type: string
                              resource:
                                description: 'Required: resource to select'
                                type: string
                            required:
                              - resource
                            type: object
                          secretKeyRef:
                            description: Selects a key of a secret in the pod's namespace
                            properties:
                              key:
                                description: The key of the secret to select from.  Must
                                  be a valid secret key.
                                type: string
                              name:
                                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      TODO: Add other useful fields. apiVersion, kind, uid?'
                                type: string
                              optional:
                                description: Specify whether the Secret or it's key must
                                  be defined
                                type: boolean
                            required:
                              - key
                            type: object
                        type: object
                    required:
                      - name
                    type: object
                  type: array
                ports:
                  items:
                    description: EnvVar represents an environment variable present in
                      a Container.
                    properties:
                      name:
                        description: Name of the environment variable. Must be a C_IDENTIFIER.
                        type: string
                      hostPort:
                        description: Host port of the container
                        format: int32
                        type: integer
                      containerPort:
                        description: Container port of the container
                        format: int32
                        type: integer
                      protocol:
                        description: Protocol of the container
                        type: string
                      hostIP:
                        description: HostIP of the container
                        type: string
                    required:
                      - name
                    type: object
                  type: array
                resources:
                  description: ResourceRequirements describes the compute resource requirements.
                  properties:
                    limits:
                      additionalProperties:
                        type: string
                      description: 'Limits describes the maximum amount of compute resources
                            allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                    requests:
                      additionalProperties:
                        type: string
                      description: 'Requests describes the minimum amount of compute resources
                            required. If Requests is omitted for a container, it defaults
                            to Limits if that is explicitly specified, otherwise to an implementation-defined
                            value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                  type: object
                resourcesNetViz:
                  description: ResourceNetviz Requirements describes the compute resource requirements.
                  properties:
                    limits:
                      additionalProperties:
                        type: string
                      description: 'Limits describes the maximum amount of compute resources allowed.'
                      type: object
                    requests:
                      additionalProperties:
                        type: string
                      description: 'Requests describes the minimum amount of compute resources required.'
                      type: object
                  type: object
                priorityClassName:
                  type: string
                imagePullSecret:
                  type: string
                nodeOS:
                  type: string
              required:
                - controllerUrl
              type: object
            status:
              description: InfraVizStatus defines the observed state of Infraviz
              properties:
                lastUpdateTime:
                  description: 'Important: Run "operator-sdk generate k8s" to regenerate
                        code after modifying this file'
                  format: date-time
                  type: string
                version:
                  type: string
                nodes:
                  type: object
                  additionalProperties:
                    type: string
              required:
                - lastUpdateTime
                - version
              type: object
          type: object
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: adams.appdynamics.com
spec:
  group: appdynamics.com
  names:
    kind: Adam
    listKind: AdamList
    plural: adams
    singular: adam
  scope: Namespaced
  versions:
    - name: v1alpha1
      served: true
      storage: true
      subresources:
        status: {}
      schema:
        openAPIV3Schema:
          description: Adam is the Schema for the Adam API
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                    of an object. Servers should convert recognized schemas to the latest
                    internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource this
                          object represents. Servers may infer this from the endpoint the client
                          submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: AdamSpec defines the desired state of Adam
              properties:
                account:
                  type: string
                agentEnvVar:
                  type: string
                agentLabel:
                  type: string
                agentLogOverride:
                  type: string
                agentMountName:
                  type: string
                agentMountPath:
                  type: string
                agentOpts:
                  type: string
                agentSSLCert:
                  type: string
                agentSSLPassword:
                  type: string
                agentSSLStoreName:
                  type: string
                agentServerPort:
                  format: int32
                  type: integer
                agentUserOverride:
                  type: string
                analyticsAgentContainerName:
                  type: string
                analyticsAgentImage:
                  type: string
                analyticsAgentUrl:
                  type: string
                appDAnalyticsLabel:
                  type: string
                appDAppLabel:
                  type: string
                appDDotNetAttachImage:
                  type: string
                appDInitContainerName:
                  type: string
                appDJavaAttachImage:
                  type: string
                appDTierLabel:
                  type: string
                appLogMountName:
                  type: string
                appLogMountPath:
                  type: string
                appName:
                  type: string
                appNameLiteral:
                  type: string
                args:
                  items:
                    type: string
                  type: array
                biqRequestCpu:
                  type: string
                biqRequestMem:
                  type: string
                biqService:
                  type: string
                containerSchemaName:
                  type: string
                controllerUrl:
                  type: string
                daemonSchemaName:
                  type: string
                dashboardDelayMin:
                  type: integer
                dashboardSuffix:
                  description: dashboard
                  type: string
                dashboardTemplatePath:
                  type: string
                defaultInstrumentationTech:
                  type: string
                deploySchemaName:
                  type: string
                env:
                  items:
                    description: EnvVar represents an environment variable present in
                      a Container.
                    properties:
                      name:
                        description: Name of the environment variable. Must be a C_IDENTIFIER.
                        type: string
                      value:
                        description: 'Variable references $(VAR_NAME) are expanded using
                                    the previous defined environment variables in the container
                                    and any service environment variables. If a variable cannot
                                    be resolved, the reference in the input string will be unchanged.
                                    The $(VAR_NAME) syntax can be escaped with a double $$, ie:
                                    $$(VAR_NAME). Escaped references will never be expanded, regardless
                                    of whether the variable exists or not. Defaults to "".'
                        type: string
                      valueFrom:
                        description: Source for the environment variable's value. Cannot
                          be used if value is not empty.
                        properties:
                          configMapKeyRef:
                            description: Selects a key of a ConfigMap.
                            properties:
                              key:
                                description: The key to select.
                                type: string
                              name:
                                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion, kind, uid?'
                                type: string
                              optional:
                                description: Specify whether the ConfigMap or it's key
                                  must be defined
                                type: boolean
                            required:
                              - key
                            type: object
                          fieldRef:
                            description: 'Selects a field of the pod: supports metadata.name,
                                        metadata.namespace, metadata.labels, metadata.annotations,
                                        spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP.'
                            properties:
                              apiVersion:
                                description: Version of the schema the FieldPath is written
                                  in terms of, defaults to "v1".
                                type: string
                              fieldPath:
                                description: Path of the field to select in the specified
                                  API version.
                                type: string
                            required:
                              - fieldPath
                            type: object
                          resourceFieldRef:
                            description: 'Selects a resource of the container: only resources
                                        limits and requests (limits.cpu, limits.memory, limits.ephemeral-storage,
                                        requests.cpu, requests.memory and requests.ephemeral-storage)
                                        are currently supported.'
                            properties:
                              containerName:
                                description: 'Container name: required for volumes, optional
                                            for env vars'
                                type: string
                              divisor:
                                description: Specifies the output format of the exposed
                                  resources, defaults to "1"
                                type: string
                              resource:
                                description: 'Required: resource to select'
                                type: string
                            required:
                              - resource
                            type: object
                          secretKeyRef:
                            description: Selects a key of a secret in the pod's namespace
                            properties:
                              key:
                                description: The key of the secret to select from.  Must
                                  be a valid secret key.
                                type: string
                              name:
                                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            TODO: Add other useful fields. apiVersion, kind, uid?'
                                type: string
                              optional:
                                description: Specify whether the Secret or it's key must
                                  be defined
                                type: boolean
                            required:
                              - key
                            type: object
                        type: object
                    required:
                      - name
                    type: object
                  type: array
                epSchemaName:
                  type: string
                eventAPILimit:
                  description: limits
                  type: integer
                eventSchemaName:
                  type: string
                eventServiceUrl:
                  type: string
                globalAccount:
                  type: string
                image:
                  type: string
                initContainerDir:
                  type: string
                initRequestCpu:
                  type: string
                initRequestMem:
                  type: string
                instrumentContainer:
                  type: string
                instrumentMatchString:
                  items:
                    type: string
                  type: array
                instrumentRule:
                  items:
                    properties:
                      agentEnvVar:
                        type: string
                      appDAppLabel:
                        type: string
                      appDTierLabel:
                        type: string
                      appNameLiteral:
                        type: string
                      biQ:
                        type: string
                      containerName:
                        type: string
                      matchString:
                        items:
                          type: string
                        type: array
                      method:
                        type: string
                      namespaces:
                        items:
                          type: string
                        type: array
                      tech:
                        type: string
                      uniqueHostID:
                        type: string
                      version:
                        type: string
                    type: object
                  type: array
                instrumentationMethod:
                  description: instrumentation
                  type: string
                jDKMountName:
                  type: string
                jDKMountPath:
                  type: string
                jobSchemaName:
                  type: string
                logLevel:
                  type: string
                logLines:
                  type: integer
                logSchemaName:
                  type: string
                metricsSyncInterval:
                  type: integer
                netVizPort:
                  type: integer
                nodeNamePrefix:
                  type: string
                nodeSchemaName:
                  type: string
                nodesToMonitor:
                  items:
                    type: string
                  type: array
                nodesToMonitorExclude:
                  items:
                    type: string
                  type: array
                nsSchemaName:
                  type: string
                nsToInstrument:
                  items:
                    type: string
                  type: array
                nsToInstrumentExclude:
                  items:
                    type: string
                  type: array
                nsToMonitor:
                  items:
                    type: string
                  type: array
                nsToMonitorExclude:
                  items:
                    type: string
                  type: array
                overconsumptionThreshold:
                  type: integer
                podEventNumber:
                  type: integer
                podSchemaName:
                  description: snapshot schemas
                  type: string
                proxyPass:
                  type: string
                proxyUrl:
                  type: string
                proxyUser:
                  type: string
                rSSchemaName:
                  type: string
                resources:
                  description: ResourceRequirements describes the compute resource requirements.
                  properties:
                    limits:
                      additionalProperties:
                        type: string
                      description: 'Limits describes the maximum amount of compute resources
                                  allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                    requests:
                      additionalProperties:
                        type: string
                      description: 'Requests describes the minimum amount of compute resources
                                  required. If Requests is omitted for a container, it defaults
                                  to Limits if that is explicitly specified, otherwise to an implementation-defined
                                  value. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/'
                      type: object
                  type: object
                rqSchemaName:
                  type: string
                snapshotSyncInterval:
                  type: integer
                systemSSLCert:
                  type: string
                uniqueHostID:
                  type: string
              required:
                - controllerUrl
              type: object
            status:
              description: AdamStatus defines the observed state of Adam
              properties:
                lastUpdateTime:
                  description: 'Important: Run "operator-sdk generate k8s" to regenerate
                              code after modifying this file'
                  format: date-time
                  type: string
                state:
                  properties:
                    analyticsAgentImage:
                      type: string
                    appDDotNetAttachImage:
                      type: string
                    appDJavaAttachImage:
                      type: string
                    biqService:
                      type: string
                    defaultInstrumentationTech:
                      type: string
                    instrumentMatchString:
                      items:
                        type: string
                      type: array
                    instrumentRule:
                      items:
                        properties:
                          agentEnvVar:
                            type: string
                          appDAppLabel:
                            type: string
                          appDTierLabel:
                            type: string
                          appNameLiteral:
                            type: string
                          biQ:
                            type: string
                          containerName:
                            type: string
                          matchString:
                            items:
                              type: string
                            type: array
                          method:
                            type: string
                          namespaces:
                            items:
                              type: string
                            type: array
                          tech:
                            type: string
                          uniqueHostID:
                            type: string
                          version:
                            type: string
                        type: object
                      type: array
                    instrumentationMethod:
                      type: string
                    logLevel:
                      type: string
                    logLines:
                      type: integer
                    metricsSyncInterval:
                      type: integer
                    nodesToMonitor:
                      items:
                        type: string
                      type: array
                    nodesToMonitorExclude:
                      items:
                        type: string
                      type: array
                    nsToInstrument:
                      items:
                        type: string
                      type: array
                    nsToInstrumentExclude:
                      items:
                        type: string
                      type: array
                    nsToMonitor:
                      items:
                        type: string
                      type: array
                    nsToMonitorExclude:
                      items:
                        type: string
                      type: array
                    snapshotSyncInterval:
                      type: integer
                    version:
                      type: string
                  required:
                    - logLevel
                    - logLines
                    - metricsSyncInterval
                    - snapshotSyncInterval
                  type: object
              required:
                - lastUpdateTime
                - state
              type: object
          type: object
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: appdynamics-operator
  namespace: appdynamics
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: appdynamics-operator
  namespace: appdynamics
rules:
  - apiGroups:
      - ""
    resources:
      - pods
      - pods/log
      - endpoints
      - persistentvolumeclaims
      - resourcequotas
      - nodes
      - events
      - namespaces
    verbs:
      - get
      - watch
      - list
  - apiGroups:
      - ""
    resources:
      - services
      - configmaps
      - secrets
    verbs:
      - "*"
  - apiGroups:
      - apps
    resources:
      - statefulsets
    verbs:
      - get
      - watch
      - list
  - apiGroups:
      - apps
    resources:
      - deployments
      - replicasets
      - daemonsets
    verbs:
      - "*"
  - apiGroups:
      - "batch"
      - "extensions"
    resources:
      - "jobs"
    verbs:
      - "get"
      - "list"
      - "watch"
  - apiGroups:
      - metrics.k8s.io
    resources:
      - pods
      - nodes
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - appdynamics.com
    resources:
      - '*'
      - clusteragents
    verbs:
      - "*"
---
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: appdynamics-operator
  namespace: appdynamics
subjects:
  - kind: ServiceAccount
    name: appdynamics-operator
roleRef:
  kind: Role
  name: appdynamics-operator
  apiGroup: rbac.authorization.k8s.io
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: appdynamics-operator
  namespace: appdynamics
spec:
  replicas: 1
  selector:
    matchLabels:
      name: appdynamics-operator
  template:
    metadata:
      labels:
        name: appdynamics-operator
    spec:
      serviceAccountName: appdynamics-operator
      containers:
        - name: appdynamics-operator
          image: docker.io/appdynamics/cluster-agent-operator:0.6.10
          ports:
            - containerPort: 60000
              name: metrics
          command:
            - appdynamics-operator
          imagePullPolicy: Always
          resources:
            limits:
              cpu: 200m
              memory: 128Mi
            requests:
              cpu: 100m
              memory: 64Mi
          env:
            - name: WATCH_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: OPERATOR_NAME
              value: "appdynamics-operator"
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: appdynamics-cluster-agent
  namespace: appdynamics
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appdynamics-cluster-agent
rules:
  - apiGroups:
      - ""
    resources:
      - pods
      - pods/log
      - endpoints
      - persistentvolumeclaims
      - resourcequotas
      - nodes
      - events
      - namespaces
      - services
      - configmaps
      - secrets
    verbs:
      - get
      - watch
      - list
  - apiGroups:
      - apps
    resources:
      - daemonsets
      - statefulsets
      - deployments
      - replicasets
    verbs:
      - get
      - watch
      - list
  - apiGroups:
      - "batch"
      - "extensions"
    resources:
      - "jobs"
    verbs:
      - "get"
      - "list"
      - "watch"
  - apiGroups:
      - metrics.k8s.io
    resources:
      - pods
      - nodes
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - appdynamics.com
    resources:
      - '*'
      - clusteragents
    verbs:
      - get
      - list
      - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appdynamics-cluster-agent-instrumentation
rules:
  - apiGroups:
      - ""
    resources:
      - pods
      - pods/exec
      - secrets
      - configmaps
    verbs:
      - create
      - update
      - delete
  - apiGroups:
      - apps
    resources:
      - daemonsets
      - statefulsets
      - deployments
      - replicasets
    verbs:
      - update
---
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: appdynamics-cluster-agent
subjects:
  - kind: ServiceAccount
    name: appdynamics-cluster-agent
    namespace: appdynamics
roleRef:
  kind: ClusterRole
  name: appdynamics-cluster-agent
  apiGroup: rbac.authorization.k8s.io
---
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: appdynamics-cluster-agent-instrumentation
subjects:
  - kind: ServiceAccount
    name: appdynamics-cluster-agent
    namespace: appdynamics
roleRef:
  kind: ClusterRole
  name: appdynamics-cluster-agent-instrumentation
  apiGroup: rbac.authorization.k8s.io